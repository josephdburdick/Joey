/*


                 ___           ___                 
    ___         /\  \         /\__\                
   /\__\       /::\  \       /:/ _/_         ___   
  /:/__/      /:/\:\  \     /:/ /\__\       /|  |  
 /::\  \     /:/  \:\  \   /:/ /:/ _/_     |:|  |  
 \/\:\  \   /:/__/ \:\__\ /:/_/:/ /\__\    |:|  |  
  ~~\:\  \  \:\  \ /:/  / \:\/:/ /:/  /  __|:|__|  
     \:\__\  \:\  /:/  /   \::/_/:/  /  /::::\  \  
     /:/  /   \:\/:/  /     \:\/:/  /   ~~~~\:\  \ 
    /:/  /     \::/  /       \::/  /         \:\__\
    \/__/       \/__/         \/__/           \/__/   
  




 Made in Brooklyn, New York.

  Joey
  UX, DEV, DESIGN

  - j0e.me
  - jb@joeylabs.com
  - fb.me/joeburdick
  - 646 481 1065


*/function windowWidth(){var e=$(window).width();return e}function windowHeight(){var e=$(window).height();return e}function navTimer(){setTimeout(function(){nav.addClass("trans")},5e3)}function showMouseNotify(e){e===!0?mobile()===!1&&$(window).width<=680&&scrollAlert.addClass("active"):mobile()===!1&&$(window).width<=680&&scrollAlert.removeClass("active")}function mobile(){if($("html").hasClass("mobile")){isMobile=!0;scrollAlert.hide()}else isMobile=!1;return isMobile}function keyboard(){$(document).keyup(function(e){if(sectionIndex.hasClass("active")){if(e.keyCode===37||e.keyCode===39){sectionIndex.find(".project").hasClass("hover")?activeProject=sectionIndex.find(".project.hover"):sectionIndex.find(".project").hasClass("hover latest")?activeProject=sectionIndex.find(".project.latest"):activeProject=sectionIndex.find(".project").first();var t=$(activeProject).outerWidth(!0);if(e.keyCode===37)if(activeProject.index()===0)activeProject.addClass("hover");else{activeProject.removeClass("hover latest").prev(".project").toggleClass("hover");sectionIndex.stop().animate({scrollLeft:"-="+t},500)}if(e.keyCode===39){activeProject.index()===0&&sectionIndex.find(".project").eq(0).addClass("hover");if(activeProject.index()===sectionIndex.find(".project").length-1)activeProject.addClass("hover");else{activeProject.removeClass("hover latest").next(".project").toggleClass("hover");sectionIndex.stop().animate({scrollLeft:"+="+t},500)}}}e.keyCode===27&&$(".project.hover").removeClass("hover").addClass("latest");if(e.keyCode===13&&$(".project.hover a[href]").length>0){var n=$(".project.hover a[href]").attr("href");hashLoad(n)}}else e.keyCode===27&&$(btnClose).click()})}function projectPanes(){var e,t,n,r,i;r=$("#index .project").width(),i=$("#index .project").height(),e=$(".project-container"),t=$("#index").find(".project"),n=t.length;$("#index .project .info").vertCenter({percentage:1.75});if(!Modernizr.touch)if(windowWidth()>=680){e.width(n*r);sectionIndex.unbind("mousewheel").mousewheel(function(e,t){this.scrollLeft-=Math.round(parseInt(t*45));return!1})}else sectionIndex.unbind("mousewheel");else e.width(n*r);if(mobile()&&windowWidth()<=680)$(".project").addClass("hover");else{$(".project").on("mouseenter",function(){$(this).addClass("hover latest").siblings().removeClass("hover latest")}).on("mouseleave",function(){$(this).removeClass("hover").addClass("latest")});nav.on("mouseenter",function(){$(this).click()})}}function loadIndex(){currentSection=$("section.active").attr("id");btnDetail.removeClass("active");btnPrev.removeClass("active");btnNext.removeClass("active");btnAbout.addClass("active");$("#"+currentSection).removeClass("active");setTimeout(function(){sectionIndex.addClass("active");setTimeout(function(){$(".project.active").removeClass("active").siblings(".project").removeClass("not-active").end().find(".project-link").html('<i class="icon-angle-down"></i> View Project <i class="icon-angle-down"></i>');scrollAlert.addClass("active")},500)},500);projectPanes()}function slideshow(){$(".royalSlider").is('[class*="rs"]')&&$(".royalSlider").royalSlider("destroy");scrollAlert.removeClass("active");Modernizr.touch?slideshowOptions={loop:!0,imageAlignCenter:!0,autoScaleSlider:!1,imageScalePadding:10,transitionType:"move",width:windowWidth(),height:windowHeight(),arrowsNav:!1,slidesSpacing:0,keyboardNavEnabled:!1}:slideshowOptions={loop:!0,imageAlignCenter:!0,autoScaleSlider:!1,imageScalePadding:10,transitionType:"fade",width:windowWidth(),height:windowHeight(),arrowsNav:!1,slidesSpacing:0,keyboardNavEnabled:!0};$("#slideshow").royalSlider(slideshowOptions);var e=$("#slideshow").data("royalSlider");$(window).trigger("resize");$(btnPrev).unbind("click").on("click",function(){e.prev()});$(btnNext).unbind("click").on("click",function(){e.next()});$("#slideshow").find(".vertical-center").vertCenter({cssWidth:!0});$(window).trigger("resize")}function pullData(e){var t="inc/projects_export.php?project="+e,n,r;n=[];r=[];$.post(t,e,function(e){$(e.tags).each(function(e,t){n+="<span class='project-tag'>"+t+"</span>"});$(e.slides).each(function(e,t){var n=JSON.stringify(t);if(mobile()===!0&&$(window).width()<=680&&e!==0){n=n.replace(/(.png)/g,"-lofi.png");n=$.parseJSON(n);t=n}r+='<div class="slide-container">'+t+"</div>"});btnAbout.removeClass("active");sectionDetail.attr("data-id",e.id).find(".project-name").html(e.name).end().find(".project-year").html(e.year).end().find(".project-agency").html(e.agency).end().find(".project-details").html(e.details).end().find(".project-tags").html(n).end().find("#slideshow").html(r);slideshow();setTimeout(function(){btnDetail.addClass("active");btnPrev.addClass("active");btnNext.addClass("active");btnClose.addClass("active");mobile()===!1&&detailPane.hasClass("active")===!1&&btnDetail.trigger("click")},500)},"json").fail(function(){alert("Data not found.");window.history.back()})}function processRoute(e,t){var n=$("section.active").attr("id");if(t!==undefined){$("#index-"+t).addClass("active").siblings(".project").addClass("not-active").end().find(".project-link").html('<i class="icon-spinner spin"></i> Loading Project...');btnAbout.removeClass("active");setTimeout(function(){$("#"+n).removeClass("active")},1e3);setTimeout(function(){pullData(t);sectionDetail.removeClass("active").addClass("active")},1e3)}else{setTimeout(function(){$("#"+n).removeClass("active")},1e3);setTimeout(function(){$(e).addClass("active")},1e3);btnClose.addClass("active");scrollAlert.removeClass("active")}}function changeView(e,t){var n=location.hash.replace(/^#!\//,"");if(n!==undefined)if(t!==undefined){processRoute(e,t);showMouseNotify(!1)}else{btnAbout.removeClass("active");processRoute(e);showMouseNotify(!1)}}function hashLoad(e){if("onhashchange"in window)if(e){e=e.replace(/^#!\//,"");if(e.indexOf("=")===-1)changeView(e);else{var t=e.split("=");changeView(t[0],t[1])}}else{loadIndex();showMouseNotify(!0);btnClose.removeClass("active")}$(window).trigger("onhashchange")}function interfaces(){$(btnAbout).on("mouseenter",function(){$(this).addClass("hover")}).on("mouseleave",function(){$(this).removeClass("hover")});$(btnClose).on("click",function(){var e=$("section.active").attr("id");$(this).removeClass("active");faceMask.removeClass("active");detailPane.hasClass("active")&&btnDetail.trigger("click");loadIndex(e);$(".royalSlider").is('[class*="rs"]')&&$(".royalSlider").royalSlider("destroy")});btnDetail.on("click",function(){$(this).toggleClass("on");faceMask.toggleClass("active");detailPane.toggleClass("active")});faceMask.on("click",function(){btnDetail.click()});$(".cookie").on("click",function(){$.cookie("behaviorAlert","OK",{expires:7});$(".alert").removeClass("active");return!1});navTimer();nav.on("click",function(){$(this).removeClass("trans");setTimeout(function(){navTimer()},5e3)});keyboard()}var faceMask,btnClose,btnAbout,btnPrev,btnNext,btnDetail,nav,activeProject,currentSection,detailPane,sectionIndex,sectionDetail,sectionAbout,isMobile,scrollAlert,slideshowOptions;nav=$("#nav-main"),faceMask=$("#face-mask"),btnClose=$(".btnClose"),btnAbout=$(".btnAbout"),btnPrev=$(".btnPrev"),btnNext=$(".btnNext"),btnDetail=$(".btnDetail"),detailPane=$("#detail > aside"),sectionIndex=$("#index"),sectionDetail=$("#detail"),sectionAbout=$("#about"),scrollAlert=$("#mouse");jQuery.rsCSS3Easing.easeOutBack="cubic-bezier(0.175, 0.885, 0.320, 1.275)";$(document).ready(function(){$(window).on("hashchange",function(e){hashLoad(location.hash);e.preventDefault()}).on("resize",function(){setTimeout(function(){projectPanes();$("#detail .vertical-center").vertCenter({cssWidth:!0})},800)}).trigger("resize");hashLoad(location.hash);interfaces()});